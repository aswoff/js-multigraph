<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: EventEmitter</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Class: EventEmitter</h1>
    
    



<section>
    
<header>
    <h2>
    EventEmitter
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
<dt>
    <h4 class="name" id="EventEmitter"><span class="type-signature"></span>new EventEmitter</h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        EventEmitter is a Jermaine model that supports basic event emitting /
handling for Jermaine objects.
<p>
Events are represented as plain old JavaScript objects with at least
the following two properties:
<dl>
<dt>type</dt>
<dd>a string giving the type of the event; this can be any
    arbitrary string.  The event type is not restricted to be
    from some predetermined list; applications are free to
    use whatever strings they want for their event types.</dd>
<dt>target</dt>
<dd>a reference to the object that emitted the event</dd>
</dl>
<p>
Event objects may also contain arbitrary other properties that are specific to
a particular event type.
<p>
Any Jermaine model can declare itself to be an event emitter by saying
"this.isA(EventEmitter)" in its model declaration.
<p>
This adds three methods to the model:
<dl>
   <dt>addListener(eventType, listenerFunction)</dt>

   <dd>Registers listenerFunction as a listener for events of type
      eventType (a string).  listenerFunction should be a function
      that accepts a single argument which will be a reference to an
      event object as described above.  When the object emits the
      event, the listener function will be invoked in the context
      where its "this" keyword refers to the object that emitted the
      event (the event target).  If listenerFunction is already
      registered as a listener for eventType, this function does
      nothing --- each listener function can be registered only once.</dd>

   <dt>removeListener(eventType, listenerFunction)</dt>

   <dd>Removes the given listenerFunction from the list of listeners
      for this object for events of type eventType.</dd>

   <dt>emit(event)</dt>

   <dd>Causes the object to emit the given event.  The argument can be
      either a string, in which case it is assumed to be an event type
      and is converted to an event object with the given 'type'
      property, or an event object with a 'type' property and any
      other desired properties.  The emit() method automatically adds
      a 'target' property to the event object, whose value is a
      reference to the object emitting the event.</dd>
</dl>

In most cases the emit() method is only called from within the
implementation of an EventEmitter object, and code external to the
object's model will use its addListener() and removeListener() methods
to process events that the object emits.  All three of these methods
are public methods, though, so it's also possible for code outside of
an object's implementation to cause it to emit an event, or for the
object's own code to listen for and process its own events.
<p>
Two special types of events are always present for every EventEmitter
object: the "listenerAdded" and "listenerRemoved" events.  These
events make it possible to monitor the addition or removal of event
listeners.  The "listenerAdded" event is emitted whenever a new
listener function is added, and the "listenerRemoved" event is emitted
whenever a listener is removed.  Each of these events contain the
following properties:
<dl>
    <dt>targetType</dt>
    <dd>the event type associated with the listener
                being added or removed</dd>
    <dt>listener</dt>
    <dd>the listener function being added or removed</dd>
</dl>

<b>EXAMPLE</b>
<pre>
   var Person = new window.jermaine.Model(function() {
     this.isA(EventEmitter);
     this.hasA("name").which.isA("string");
     this.respondsTo("say", function(something) {
       console.log(this.name() + ' says ' + something);
       this.emit({type : "say", message : something});
     });
   });

   var person = new Person().name("Mark");

   var sayListener = function(event) {
     console.log(event.target.name() + ' said ' + event.message);
   };

   person.say('Hello');
   person.addListener("say", sayListener);
   person.say('Alright');
   person.removeListener("say", sayListener);
   person.say('Goodbye');

   OUTPUT:

      Mark says Hello
      Mark says Alright
      Mark said Alright
      Mark said Goodbye
</pre>
    </div>
    

    
    
    
    
    
    
    
<dl class="details">
    
        
	
	
	

	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>event_emitter.js, line 5</li></ul></dd>
	
    
    
	
	
	
	
</dl>

    
    
    
    
    
    
    
    
</dd>

    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
        <h3 class="subsection-title">Methods</h3>
        
        <dl>
            
<dt>
    <h4 class="name" id="addListener"><span class="type-signature"></span>addListener</h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Adds a listener function for events of a specific type
emitted by this object.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>eventType</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">the type of event</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>listener</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last">a listener function</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
	
	
	

	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>event_emitter.js, line 125</li></ul></dd>
	
    
    
	
	
	
	
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    a value indicating whether the listener
        was actually added (a listener is not added if it
        is already registered for the eventType)
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">boolean</span>


	</dd>
</dl>

        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="emit"><span class="type-signature"></span>emit</h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Call this objects listeners for a specific event.  If the "event"
argument is a string, it is converted to an Object having
that string as the value of its "type" attribute; otherwise
the "event" argument should be an event Object having a
"type" attribute and any other attributes approriate for
that event type.  In either case, all (if there are any) of
the current listeners on this object for events of the
given type will be invoked, being passed an event object.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>event</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">Object or string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">either a string representing an event type, or an event
                                object with a 'type' attribute.</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
	
	
	

	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>event_emitter.js, line 183</li></ul></dd>
	
    
    
	
	
	
	
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    (nothing)
</div>



        
    
    
</dd>

        
            
<dt>
    <h4 class="name" id="removeListener"><span class="type-signature"></span>removeListener</h4>
    
    
</dt>
<dd>
    
    
    <div class="description">
        Removes a listener function for events of a specific type
emitted by this object.
    </div>
    

    
    
    
    
    
        <h5>Parameters:</h5>
        

<table class="params">
    <thead>
	<tr>
		
		<th>Name</th>
		
		
		<th>Type</th>
		
		
		
		
		
		<th class="last">Description</th>
	</tr>
	</thead>
	
	<tbody>
	
	
        <tr>
            
                <td class="name"><code>eventType</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>
            
            
            
            
            
            <td class="description last">the type of event</td>
        </tr>
	
	
	
        <tr>
            
                <td class="name"><code>listener</code></td>
            
            
            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>
            
            
            
            
            
            <td class="description last">the listener function to remove</td>
        </tr>
	
	
	</tbody>
</table>
    
    
    
<dl class="details">
    
        
	
	
	

	
	
	
	
	
	
	
	
	
	
	
	
	
	<dt class="tag-source">Source:</dt>
	<dd class="tag-source"><ul class="dummy"><li>event_emitter.js, line 155</li></ul></dd>
	
    
    
	
	
	
	
</dl>

    
    
    
    
    
    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    a value indicating whether the listener
        was actually removed.
</div>



<dl>
	<dt>
		Type
	</dt>
	<dd>
		
<span class="param-type">boolean</span>


	</dd>
</dl>

        
    
    
</dd>

        </dl>
    
    
    
    
    
</article>

</section>  




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="ArrayData.html">ArrayData</a></li><li><a href="EventEmitter.html">EventEmitter</a></li><li><a href="Legend.html">Legend</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3</a> on Tue Nov 13 2012 12:19:32 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
</body>
</html>
